
 Лабораторная работа №1

Здесь приведены задачи по взаимодействию с таблицей orders.

Получение всех заказов: Нужно получить все данные из таблицы orders.

![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_08_09](https://github.com/user-attachments/assets/6d928aca-629c-4ccd-86d5-aa53168a7a33)

Исключение новых заказов: Нужно выбрать все заказы, за исключением тех, у которых статус "new". Используется оператор IN.
https://github.com/essex107/-/blob/main/VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_09_54.png?raw=true

Выбор новых и отмененных заказов: Необходимо получить список заказов со статусом "new" или "cancelled".

![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_10_00](https://github.com/user-attachments/assets/6d3c79ee-e1ee-4e60-8533-0618946f5674)



Заказы с большим количеством товаров: Выбираются заказы, где количество товаров (products_count) больше 3. Выводятся только идентификатор заказа (id) и общая стоимость (sum).
![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_10_09](https://github.com/user-attachments/assets/3a04615d-ea9d-4ad7-8a08-c0014b86cfa7)

Лабораторная работа №2

Задачи по работе с таблицами orders и products.

Три самых дешевых заказа: Необходимо найти три заказа с самой низкой стоимостью. Результаты сортируются по убыванию цены. Отмененные заказы не учитываются.

![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_16_02](https://github.com/user-attachments/assets/8aba39a0-6240-4997-baa5-d8664f5554e2)

Два самых дорогих заказа: Нужно получить два заказа с максимальной стоимостью. Данные сортируются по убыванию цены, отмененные заказы исключаются.
![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_16_06](https://github.com/user-attachments/assets/f693bc76-9930-4f17-94d9-21ac11efb4c9)


Добавление нового заказа: В таблицу orders добавляется информация о новом заказе на сумму 8000 рублей, состоящем из 4 товаров (products).
![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_37_16](https://github.com/user-attachments/assets/f6cf47ca-0586-4cdd-b511-435ad35d7d54)


Добавление нового товара: В таблицу products вносятся данные о новом товаре: "VR-очки" стоимостью 70000 рублей, в количестве 2 штук (count).

![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_44_17](https://github.com/user-attachments/assets/1aacd50f-83c6-4c19-9975-ef5c8932e28c)


Исправление ошибки в названии товара: В таблице products название товара "IMAC" исправляется на "PS5".

![VirtualBox_kiryanova21212121212112121212121212112_27_02_2025_23_49_36](https://github.com/user-attachments/assets/4a05294a-9bed-4d2e-82f3-3085d7ca997e)

Лабораторная работа №3
Создание таблицы users:
![VirtualBox_Kiryanovafffffffffffffff_01_03_2025_10_43_40](https://github.com/user-attachments/assets/5b49dd32-f7eb-4b12-ac63-53a8990ab5d7)

![VirtualBox_Kiryanovafffffffffffffff_01_03_2025_10_16_04](https://github.com/user-attachments/assets/d968877f-08e4-4995-b98f-980537b521d9)



Лабораторная работа  №4

Задание 1

Создайте таблицу users для хранения информации о пользователях сайта. В таблице должны быть следующие поля:

![07b28493-4d0c-42d5-8537-dba100cbbcb8](https://github.com/user-attachments/assets/a0f03986-2b03-4cc7-be86-39413f348197)

Неверное решение 

CREATE TABLE users(
id INT UNSIGNED,
email VARCHAR(100),
date_joined DATE,
last_activity DATETIME
);

INSERT INTO users (id, email, date_joined, last_activity)
VALUES (1, "user1@domain.com", "2014-12-12", "2016-04-08 12:34:54")
INSERT INTO users (id, email, date_joined, last_activity)
VALUES (2, "user2@domain.com", "2014-12-12", "2017-02-13 11:46:53")
INSERT INTO users (id, email, date_joined, last_activity)
VALUES (3, "user3@domain.com", "2014-12-13", "2017-04-04 05:12:07")

Правильное решение 1:

То же самое, но разделяется точкой с запятой

CREATE TABLE users(
id INT UNSIGNED,
email VARCHAR(100),
date_joined DATE,
last_activity DATETIME
);

INSERT INTO users (id, email, date_joined, last_activity)
VALUES (1, "user1@domain.com", "2014-12-12", "2016-04-08 12:34:54");
INSERT INTO users (id, email, date_joined, last_activity)
VALUES (2, "user2@domain.com", "2014-12-12", "2017-02-13 11:46:53");
INSERT INTO users (id, email, date_joined, last_activity)
VALUES (3, "user3@domain.com", "2014-12-13", "2017-04-04 05:12:07");

Правильное решение 2 (Красивее):

create table users (
id int(10) unsigned,
email varchar (100),
date_joined date,
last_activity datetime
);
insert into users (id, email, date_joined,last_activity)
values
(1,'user1@domain.com', '2014-12-12','2016-04-08 12:34:54'),
(2,'user2@domain.com', '2014-12-12','2017-02-13 11:46:53'),
(3,'user3@domain.com', '2014-12-13','2017-04-04 05:12:07');

Вывод ошибки:


![1](https://github.com/user-attachments/assets/e0ff2555-fe76-450a-9f59-c7b795456410)

Причина ошибки:

Ошибка синтаксиса, требуется как минимум разделение с помощью точкой с запятой


Задание №2

create table users ( id int(10) unsigned, email varchar (100), date_joined date, last_activity datetime ); insert into users (id, email, date_joined,last_activity) values (1,'user1@domain.com', '2014-12-12','2016-04-08 12:34:54'), (2,'user2@domain.com', '2014-12-12','2017-02-13 11:46:53'), (3,'user3@domain.com', '2014-12-13','2017-04-04 05:12:07'); Создайте таблицу calendar для хранения календаря посетителей. В таблице должны быть следующие поля:

id – идентификатор записи в календаре, целое положительное; user_id – идентификатор пользователя, целое положительное; doctor_id – идентификатор доктора, целое положительное; visit_date – дата и время визита (точность до секунд).

![2](https://github.com/user-attachments/assets/f69ef7fe-de40-4e64-8838-5736a0641131)


Неверное решение:

Create table calendar (
id int unsigned,
user_id int unsigned,
doctor_id int unsigned,
visit_date datetime);
Insert into calendar (id, user_id, doctor_id, visit_date)
Values (1, 1914 , 1, '2017-04-08 12:00:00'),
(2, 12, 1, '2017-04-08 12:30:00'),
(3, 4641, 2, '2017-04-09 09:00:00'),
(4, 4641, 2,'2017-04-09 09:00:00'),
(5, 15, 2,'2017-04-09 10:00:00')

Правильное решение:

Create table calendar (
id int unsigned,
user_id int unsigned,
doctor_id int unsigned,
visit_date datetime);
Insert into calendar (id, user_id, doctor_id, visit_date)
Values 
(1, 1914 , 1, '2017-04-08 12:00:00'),
(2, 12, 1, '2017-04-08 12:30:00'),
(3, 4641, 2, '2017-04-09 09:00:00'),
(4, 784, 1,'2017-04-08 13:00:00'),
(5, 15, 2,'2017-04-09 10:00:00')

Заметка:

VARCHAR (65535) - максимум, если больше 65535, то использовать TEXT

Вывод ошибки:

Отсутствует


Причина ошибки:

Отсутствует, только исправление оформления

Задание №3

Создайте таблицу users , в которой будут следующие поля:

id — идентификатор, целые положительные числа.

first_name— имя, строки до 50 символов.

last_name — фамилия, строки до 60 символов.

bio — биография, текст до 65000 символов.

![3](https://github.com/user-attachments/assets/e39e985f-071e-4c08-a647-7b8819c396d3)

Неверное решение:

create table users (
id int (10) unsigned,
first_name varchar (50) unsigned,
last_name varchar (60) unsigned,
bio text
);
INSERT INTO users (id, first_name, last_name, bio)
VALUES
(1,'Антон','Кулик','С отличием окончил 39 лицей.'),
(2,'Сергей','Давыдов',''),
(3,'Дмитрий','Соколов','Профессиональный программист.')

Правильное решение:

create table users (
id int (10) unsigned,
first_name varchar (50),
last_name varchar (60),
bio text
);
INSERT INTO users (id, first_name, last_name, bio)
VALUES
(1,'Антон','Кулик','С отличием окончил 39 лицей.'),
(2,'Сергей','Давыдов',''),
(3,'Дмитрий','Соколов','Профессиональный программист.')

Вывод ошибки:

![4](https://github.com/user-attachments/assets/7b027e04-1fb9-4363-86c0-8ddb91bc4e15)

Причина ошибки:

Ошибка синтаксиса, требуется как минимум разделение с помощью точкой с запятой 

Задание №2

create table users ( id int(10) unsigned, email varchar (100), date_joined date, last_activity datetime ); insert into users (id, email, date_joined,last_activity) values (1,'user1@domain.com', '2014-12-12','2016-04-08 12:34:54'), (2,'user2@domain.com', '2014-12-12','2017-02-13 11:46:53'), (3,'user3@domain.com', '2014-12-13','2017-04-04 05:12:07'); Создайте таблицу calendar для хранения календаря посетителей. В таблице должны быть следующие поля:

id – идентификатор записи в календаре, целое положительное; user_id – идентификатор пользователя, целое положительное; doctor_id – идентификатор доктора, целое положительное; visit_date – дата и время визита (точность до секунд).

![5](https://github.com/user-attachments/assets/b6d272b2-026e-4201-a605-6a06769ebda6)

Неверное решение:

Create table calendar (
id int unsigned,
user_id int unsigned,
doctor_id int unsigned,
visit_date datetime);
Insert into calendar (id, user_id, doctor_id, visit_date)
Values (1, 1914 , 1, '2017-04-08 12:00:00'),
(2, 12, 1, '2017-04-08 12:30:00'),
(3, 4641, 2, '2017-04-09 09:00:00'),
(4, 4641, 2,'2017-04-09 09:00:00'),
(5, 15, 2,'2017-04-09 10:00:00')

Правильное решение:

Create table calendar (
id int unsigned,
user_id int unsigned,
doctor_id int unsigned,
visit_date datetime);
Insert into calendar (id, user_id, doctor_id, visit_date)
Values 
(1, 1914 , 1, '2017-04-08 12:00:00'),
(2, 12, 1, '2017-04-08 12:30:00'),
(3, 4641, 2, '2017-04-09 09:00:00'),
(4, 784, 1,'2017-04-08 13:00:00'),
(5, 15, 2,'2017-04-09 10:00:00')

Заметка:

VARCHAR (65535) - максимум, если больше 65535, то использовать TEXT

Вывод ошибки:

Отсутствует

Причина ошибки:

Отсутствует, только исправление оформления

Задание №3

Создайте таблицу users , в которой будут следующие поля:

id — идентификатор, целые положительные числа.

first_name— имя, строки до 50 символов.

last_name — фамилия, строки до 60 символов.

bio — биография, текст до 65000 символов.

![6](https://github.com/user-attachments/assets/39852711-033e-4c30-9e7b-ff5c7b432358)

Неверное решение:

create table users (
id int (10) unsigned,
first_name varchar (50) unsigned,
last_name varchar (60) unsigned,
bio text
);
INSERT INTO users (id, first_name, last_name, bio)
VALUES
(1,'Антон','Кулик','С отличием окончил 39 лицей.'),
(2,'Сергей','Давыдов',''),
(3,'Дмитрий','Соколов','Профессиональный программист.')

Правильное решение:

create table users (
id int (10) unsigned,
first_name varchar (50),
last_name varchar (60),
bio text
);
INSERT INTO users (id, first_name, last_name, bio)
VALUES
(1,'Антон','Кулик','С отличием окончил 39 лицей.'),
(2,'Сергей','Давыдов',''),
(3,'Дмитрий','Соколов','Профессиональный программист.')

Вывод ошибки:

![7](https://github.com/user-attachments/assets/b6b97a4e-928a-4e00-a254-63399e0ba4aa)

Причина ошибки:

Ошибка синтаксиса, varchar не может быть unsigned

Лабораторная работа №5 

Задание №1
  
Выберите из таблицы orders 4 самых дорогих заказов за всё время. Данные нужно отсортировать в порядке убывания цены. Отмененные заказы не учитывайте.

![8](https://github.com/user-attachments/assets/2721c894-baa0-4183-bed7-609cb333602e)


select * from orders where status != "cancelled" order by sum desc limit 4


Задание №2

Выберите из таблицы products название и цены четырех самых дешевых товаров, которые есть на складе.

![9](https://github.com/user-attachments/assets/14ef808b-1e55-4a14-b431-eb0f8248fcb2)

select name, price from products where count != 0 order by price limit 4

Задание №3

Выберите из таблицы orders три последних заказа (по дате date) стоимостью от 3200 рублей и выше. Данные отсортируйте по дате в обратном порядке.

![10](https://github.com/user-attachments/assets/229ca3f5-3c88-48e9-a1e6-e4e95918bf36)

select * from orders where sum >= 3200 order by date desc limit 3

Задание №4

Создайте данную таблицу:

![11](https://github.com/user-attachments/assets/052ed062-006c-427d-b534-50db92ed88fe)

DROP TABLE IF EXISTS products;
CREATE TABLE products (
    id INT UNSIGNED NOT NULL,
    name VARCHAR(255) NULL,
    count INTEGER NULL,
    price INTEGER NULL
);
INSERT INTO products (id, name, count, price)
VALUES
    (1, 'Стиральная машина', 5, 10000),
    (2, 'Холодильник', 0, 10000),
    (3, 'Микроволновка', 3, 4000),
    (4, 'Пылесос', 2, 4500),
    (5, 'Вентилятор', 0, 700),
    (6, 'Телевизор', 7, 31740),
    (7, 'Тостер', 2, 2500),
    (8, 'Принтер', 4, 3000),
    (9, 'Активные колонки', 1, 2900),
    (10, 'Ноутбук', 4, 36990),
    (11, 'Посудомоечная машина', 0, 17800),
    (12, 'Видеорегистратор', 23, 4000),
    (13, 'Смартфон', 8, 12300),
    (14, 'Флешка', 4, 1400),
    (15, 'Блендер', 0, 5500),
    (16, 'Газовая плита', 5, 11900),
    (17, 'Клавиатура', 3, 1800);
    
    Задание №5
    
Из этой таблицы сделать выборку на основе задания: Сайт выводит товары по 5 штук. Выберите из таблицы products товары, которые пользователи увидят на 3 странице каталога при сортировке в порядке возрастания цены (price).


select * from products order by price limit 10,5

Лабораторная работа №6 

Задание №1

Создайте таблицу orders для хранения списка заказов:


id — идентификатор, целое положительное.

user_id — идентификатор пользователя, который оформил заказ. Целое положительное, NULL запрещен.

amount — стоимость заказа. Целое положительное число не более 1 млн. NULL запрещен, по умолчанию 0.

created — дата и время создания заказа. NULL запрещен.

state — статус заказа. Выбор из new, cancelled, in_progress, delivered, completed. Можно выбрать только один вариант. NULL запрещен. По умолчанию должен стоять new.

Добавьте 3 записи так, чтобы получалась таблица ниже:


![12](https://github.com/user-attachments/assets/7decef68-a51e-4523-af1b-0311834e4719)

Создание таблицы:

CREATE TABLE orders (
	id INT UNSIGNED NOT NULL,
	user_id INT UNSIGNED NOT NULL,
	amount MEDIUMINT(8) NOT NULL DEFAULT 0,
	created DATETIME NOT NULL,
	state ENUM ('new', 'cancelled', 'in_progress', 'delivered', 'completed') DEFAULT 'new'
);

Создание записей:

INSERT INTO orders (id, user_id, amount, created, state)
VALUES
	(1, 56, 5400, '2018-02-01 17:46:59', DEFAULT),
	(2, 90, 249, '2018-02-01 19:13:04', DEFAULT),
	(3, 78, 2200, '2018-02-01 22:43:09', DEFAULT);

 Задание №2
Создайте таблицу users для хранения списка пользователей сайта:

id — идентификатор, целое положительное.

first_name — имя, строка до 20 символов. NULL запрещен.

last_name — фамилия, строка до 20 символов. NULL запрещен.

patronymic — отчество, строка до 20 символов. NULL запрещен, по умолчанию пустая строка.

is_active — отметка об активности пользователя. Логическое поле, по умолчанию TRUE.

is_superuser — отметка администратора. Логическое поле, по умолчанию FALSE.

Добавьте 3 записи так, чтобы получалась таблица ниже:


![13](https://github.com/user-attachments/assets/df6fb647-f49b-44c1-b380-5e64ae5a1b9f)

Создание таблицы:

CREATE TABLE users (
	id INT UNSIGNED NOT NULL,
	first_name VARCHAR(20) NOT NULL,
	last_name VARCHAR(20) NOT NULL,
	patronymic VARCHAR(20) NOT NULL DEFAULT '',
	is_active BOOL DEFAULT TRUE,
	is_superuser BOOL DEFAULT FALSE
);

Создание записей:
INSERT INTO users (id, first_name, last_name, patronymic, is_active, is_superuser)
VALUES
	(1, 'Дмитрий', 'Иванов', DEFAULT, DEFAULT, DEFAULT),
	(2, 'Анатолий', 'Белый', DEFAULT, DEFAULT, TRUE),
	(3, 'Андрей', 'Крючков', DEFAULT, FALSE, DEFAULT);

 Задание №3
 
Создайте таблицу products для хранения товаров в интернет магазине:

id — идентификатор, целое положительное.

category_id — категория, целое положительное. Может принимать NULL. По умолчанию NULL.

name — название, строка до 100 символов. NULL запрещен.

count — количество, целое положительное до 255. NULL запрещен, по умолчанию 0.

price — цена типа DECIMAL с 10 знаками, 2 из которых выделены для копеек. NULL запрещен, по умолчанию 0.00.

Добавьте 3 записи так, чтобы получалась таблица ниже:


![14](https://github.com/user-attachments/assets/74327274-fd85-4bc3-902b-b96b8e362742)

Создание таблицы:
CREATE TABLE products (
	id INT UNSIGNED NOT NULL,
	category_id INT UNSIGNED DEFAULT NULL,
	name VARCHAR(100) NOT NULL,
	count TINYINT UNSIGNED NOT NULL DEFAULT 0,
	price DECIMAL(10,2) NOT NULL DEFAULT 0.00
);

Создание записей:

INSERT INTO products (id, category_id, name, count, price)
VALUES
	(1, 1, 'Кружка', 5, 45.90),
	(2, 17, 'Фломастеры', DEFAULT, 78.00),
	(3, DEFAULT, 'Сникерс', 12, 50.80);




id – идентификатор, целое положительное; email – адрес электронной почты, строка не более 100 символов; date_joined – дата регистрации (достаточно хранить дату, без времени) last_activity – дата и время последней активности (с точностью до секунд).

Полезные команды (шпаргалки)
*   **Однострочный INSERT:** `INSERT INTO table (column1, column2) VALUES (value1, value2);` (Вставка одной записи в таблицу).
*   **Многострочный INSERT:** `INSERT INTO table (column1, column2) VALUES (value11, value12), (value21, value22), ...` (Вставка нескольких записей в таблицу одним запросом).
*   **INSERT ... SELECT:** `INSERT INTO table1 (column1, column2) SELECT (col1, col2) FROM table2;` (Вставка данных, полученных из другой таблицы с помощью запроса SELECT).
*   **Глобальное обновление (UPDATE):** `UPDATE table1 SET column1 = new value;` (Обновление значения указанного столбца для всех записей в таблице).
*   **Условное обновление (UPDATE ... WHERE):** `UPDATE table1 SET column1=new_value, column2=new_value WHERE condition;` (Обновление значений указанных столбцов для записей, удовлетворяющих заданному условию).
*   **Полное удаление (DELETE):** `DELETE FROM table;` (Удаление всех записей из таблицы).
*   **Условное удаление (DELETE ... WHERE):** `DELETE FROM table WHERE condition;` (Удаление записей из таблицы, удовлетворяющих заданному условию).

*   При определении столбцов таблицы для них необходимо указать тип данных. Каждый столбец должен иметь тип данных. Тип данных определяет, какие значения могут храниться в столбце, сколько они будут занимать места в памяти.

MySQL предоставляет следующие типы данных, которые можно разбить на ряд групп.

Символьные типы
CHAR: представляет строку фиксированной длины.

Длина хранимой строки указывается в скобках, например, CHAR(10) - строка из десяти символов. И если в таблицу в данный столбец сохраняется строка из 6 символов (то есть меньше установленной длины в 10 символов), то строка дополняется 4 пробелами и в итоге все равно будет занимать 10 символов

Тип CHAR может хранить до 255 байт.

VARCHAR: представляет строку переменной длины.

Длина хранимой строки также указыватся в скобках, например, VARCHAR(10). Однако в отличие от CHAR хранимая строка будет занимать именно столько места, сколько необходимо. Например, если определенная длина в 10 символов, но в столбец сохраняется строка в 6 символов, то хранимая строка так и будет занимать 6 символов плюс дополнительный байт, который хранит длину строки.

Всего тип VARCHAR может хранить до 65535 байт.

Начиная с MySQL 5.6 типы CHAR и VARCHAR по умолчанию используют кодировку UTF-8, которая позволяет использовать до 3 байт для хранения символа в зависимости от языка ( для многих европейских языков по 1 байту на символ, для ряда восточно-европейских и ближневосточных - 2 байта, а для китайского, японского, корейского - по 3 байта на символ).

Ряд дополнительных типов данных представляют текст неопределенной длины:

TINYTEXT: представляет текст длиной до 255 байт.

TEXT: представляет текст длиной до 65 КБ.

MEDIUMTEXT: представляет текст длиной до 16 МБ

LONGTEXT: представляет текст длиной до 4 ГБ

Числовые типы
TINYINT: представляет целые числа от -128 до 127, занимает 1 байт

BOOL: фактически не представляет отдельный тип, а является лишь псевдонимом для типа TINYINT(1) и может хранить два значения 0 и 1. Однако данный тип может также в качестве значения принимать встроенные константы TRUE (представляет число 1) и FALSE (предоставляет число 0).

Также имеет псевдоним BOOLEAN.

TINYINT UNSIGNED: представляет целые числа от 0 до 255, занимает 1 байт

SMALLINT: представляет целые числа от -32768 до 32767, занимает 2 байтa

SMALLINT UNSIGNED: представляет целые числа от 0 до 65535, занимает 2 байтa

MEDIUMINT: представляет целые числа от -8388608 до 8388607, занимает 3 байта

MEDIUMINT UNSIGNED: представляет целые числа от 0 до 16777215, занимает 3 байта

INT: представляет целые числа от -2147483648 до 2147483647, занимает 4 байта

INT UNSIGNED: представляет целые числа от 0 до 4294967295, занимает 4 байта

BIGINT: представляет целые числа от -9 223 372 036 854 775 808 до 9 223 372 036 854 775 807, занимает 8 байт

BIGINT UNSIGNED: представляет целые числа от 0 до 18 446 744 073 709 551 615, занимает 8 байт

DECIMAL: хранит числа с фиксированной точностью. Данный тип может принимать два параметра precision и scale: DECIMAL(precision, scale).

Параметр precision представляет максимальное количество цифр, которые может хранить число. Это значение должно находиться в диапазоне от 1 до 65.

Параметр scale представляет максимальное количество цифр, которые может содержать число после запятой. Это значение должно находиться в диапазоне от 0 до значения параметра precision. По умолчанию оно равно 0.

Например, в определении следующего столбца:

1
salary DECIMAL(5,2)
Число 5 - precision, а число 2 - scale, поэтому данный столбец может хранить значения из диапазона от -999.99 до 999.99.

Размер данных в байтах для DECIMAL зависит от хранимого значения.

Данный тип также имеет псевдонимы NUMERIC, DEC, FIXED.

FLOAT: хранит дробные числа с плавающей точкой одинарной точности от -3.4028 * 1038 до 3.4028 * 1038, занимает 4 байта

Может принимать форму FLOAT(M,D), где M - общее количество цифр, а D - количество цифр после запятой

.
DOUBLE: хранит дробные числа с плавающей точкой двойной точности от -1.7976 * 10308 до 1.7976 * 10308, занимает 8 байт. Также может принимать форму DOUBLE(M,D), где M - общее количество цифр, а D - количество цифр после запятой.

Данный тип также имеет псевдонимы REAL и DOUBLE PRECISION, которые можно использовать вместо DOUBLE.

Типы для работы с датой и временем
DATE: хранит даты с 1 января 1000 года до 31 деабря 9999 года (c "1000-01-01" до "9999-12-31"). По умолчанию для хранения используется формат yyyy-mm-dd. Занимает 3 байта.

TIME: хранит время от -838:59:59 до 838:59:59. По умолчанию для хранения времени применяется формат "hh:mm:ss". Занимает 3 байта.

DATETIME: объединяет время и дату, диапазон дат и времени - с 1 января 1000 года по 31 декабря 9999 года (с "1000-01-01 00:00:00" до "9999-12-31 23:59:59"). Для хранения по умолчанию используется формат "yyyy-mm-dd hh:mm:ss". Занимает 8 байт

TIMESTAMP: также хранит дату и время, но в другом диапазоне: от "1970-01-01 00:00:01" UTC до "2038-01-19 03:14:07" UTC. Занимает 4 байта

YEAR: хранит год в виде 4 цифр. Диапазон доступных значений от 1901 до 2155. Занимает 1 байт.

Тип Date может принимать даты в различных форматах, однако непосредственно для хранения в самой бд даты приводятся к формату "yyyy-mm-dd". Некоторые из принимаемых форматов:

yyyy-mm-dd - 2018-05-25

yyyy-m-dd - 2018-5-25

yy-m-dd - 18-05-25

В таком формате двузначные числа от 00 до 69 воспринимаются как даты в диапазоне 2000-2069. А числа от 70 до 99 как диапазон чисел 1970 - 1999.

yyyymmdd - 20180525

yyyy.mm.dd - 2018.05.25

Для времени тип Time использует 24-часовой формат. Он может принимать время в различных форматах:

hh:mi - 3:21 (хранимое значение 03:21:00)

hh:mi:ss - 19:21:34

hhmiss - 192134

Примеры значений для типов DATETIME и TIMESTAMP:

2018-05-25 19:21:34
2018-05-25 (хранимое значение 2018-05-25 00:00:00)
Составные типы
ENUM: хранит одно значение из списка допустимых значений. Занимает 1-2 байта

SET: может хранить несколько значений (до 64 значений) из некоторого списка допустимых значений. Занимает 1-8 байт.

Бинарные типы
TINYBLOB: хранит бинарные данные в виде строки длиной до 255 байт.

BLOB: хранит бинарные данные в виде строки длиной до 65 КБ.

MEDIUMBLOB: хранит бинарные данные в виде строки длиной до 16 МБ

LONGBLOB: хранит бинарные данные в виде строки длиной до 4 ГБ
SQL

SELECT id, user_id, sum, status
FROM orders
WHERE status != 'cancelled'
ORDER BY sum DESC
LIMIT 5;

---

▌Подробное объяснение

1. SELECT id, user_id, sum, status  
   Эта часть указывает, какие столбцы из таблицы нужно вывести в результате:
   - id — идентификатор заказа
   - user_id — идентификатор пользователя, сделавшего заказ
   - sum — сумма заказа
   - status — статус заказа

2. FROM orders  
   Говорит базе данных, что данные нужно брать из таблицы orders.

3. WHERE status != 'cancelled'  
   Фильтрует строки, чтобы в результат попали только те заказы, у которых статус не равен 'cancelled' (то есть неотменённые заказы).

4. ORDER BY sum DESC  
   Сортирует найденные заказы по столбцу sum (сумма заказа) в порядке убывания (DESC — от большего к меньшему).  
   Таким образом, самые дорогие заказы окажутся в начале списка.

5. LIMIT 5  
   Ограничивает количество строк в результате — выводятся только первые 5 строк (то есть 5 самых дорогих неотменённых заказов).
WHERE status != 'cancelled': Этот фильтр исключает заказы, у которых статус "отменён" (cancelled). То есть мы хотим видеть только активные заказы.

ORDER BY sum DESC: Эта часть сортирует результаты по столбцу sum (сумма заказа) в порядке убывания (DESC означает "по убыванию"). То есть сначала будут показаны заказы с самой высокой суммой.

LIMIT 5: Этот оператор ограничивает количество возвращаемых строк до 5. То есть мы получим только 5 самых больших по сумме заказов.


CREATE TABLE orders: Создает новую таблицу с именем orders.
id INT PRIMARY KEY: Столбец id типа INT (целое число) является первичным ключом, что означает, что он уникален для каждой записи.
user_id INT: Столбец user_id типа INT, который хранит идентификатор пользователя, сделавшего заказ.
products_count INT: Столбец products_count типа INT, который хранит количество продуктов в заказе.
sum INT: Столбец sum типа INT, который хранит общую сумму заказа.
status VARCHAR(20): Столбец status типа VARCHAR(20), который хранит статус заказа (например, "новый", "отменён" и т.д.) и может содержать до 20 символов.
INSERT INTO orders (id, user_id, products_count, sum, status): Начинает команду вставки данных в таблицу orders, указывая, какие столбцы будут заполнены.
VALUES: Указывает, что далее будут перечислены значения для вставки.
Каждая строка в скобках представляет отдельный заказ с соответствующими значениями для id, user_id, products_count, sum и status:

(1, 2, 2, 1300, 'new'): Заказ с id 1, user_id 2, 2 продукта, сумма 1300, статус "новый".
(2, 18, 1, 10000, 'cancelled'): Заказ с id 2, user_id 18, 1 продукт, сумма 10000, статус "отменён".
(3, 11, 1, 2140, 'in_progress'): Заказ с id 3, user_id 11, 1 продукт, сумма 2140, статус "в процессе".
(4, 145, 5, 6800, 'new'): Заказ с id 4, user_id 145, 5 продуктов, сумма 6800, статус "новый".
(5, 23, 1, 999, 'new'): Заказ с id 5, user_id 23, 1 продукт, сумма 999, статус "новый".
(6, 1, 2, 7690, 'cancelled'): Заказ с id 6, user_id 1, 2 продукта, сумма 7690, статус "отменён".
(7, 17, 1, 1600, 'new'): Заказ с id 7, user_id 17, 1 продукт, сумма 1600, статус "новый".
(8, 5, 4, 400, 'delivery'): Заказ с id 8, user_id 5, 4 продукта, сумма 400, статус "доставка".
(9, 2355, 1, 1450, 'new'): Заказ с id 9, user_id 2355, 1 продукт, сумма 1450, статус "новый".
(10, 13, 7, 13000, 'cancelled'): Заказ с id 10, user_id 13, 7 продуктов, сумма 13000, статус "отменён".
